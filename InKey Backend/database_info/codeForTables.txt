CREATE TABLE User_settings (
    USER_SETTING int NOT NULL AUTO_INCREMENT PRIMARY KEY,
    THEME varchar(255) NOT NULL
);

CREATE TABLE User(
    USER int NOT NULL AUTO_INCREMENT PRIMARY KEY,
    USERNAME varchar(255) NOT NULL,
    PASSWORD varchar(255),
    EMAIL varchar(255),
    PROFILE_PHOTO blob,
    FIRST_NAME varchar(255),
    LAST_NAME varchar(255),
    SETTINGS_ID int NOT NULL,
    FOREIGN KEY (SETTINGS_ID) REFERENCES User_settings(USER_SETTING)
);


CREATE TABLE Content (
    CONTENT int NOT NULL AUTO_INCREMENT PRIMARY KEY,
    CONTENT_TYPE varchar(255) NOT NULL,
	ALBUM_ID varchar(255),
	SONG_ID varchar(255),
    STREAM_ID varchar(255),
    ARTIST_ID varchar(255)
);

CREATE TABLE Favorite_content (
    FAVORITE_CONTENT int NOT NULL AUTO_INCREMENT PRIMARY KEY,
    USER_ID int NOT NULL,
    CONTENT_ID int NOT NULL,
    FOREIGN KEY (USER_ID) REFERENCES User(USER) ,
    FOREIGN KEY (CONTENT_ID) REFERENCES Content(CONTENT)
);

CREATE TABLE Comment (
    COMMENT int NOT NULL AUTO_INCREMENT PRIMARY KEY,
    USER_ID int NOT NULL,
    CONTENT_ID int NOT NULL,
    TIME_OF_CREATION DATETIME,
    LAST_EDITED DATETIME,
    MESSAGE varchar(1000),
    FOREIGN KEY (USER_ID) REFERENCES User(USER) ,
    FOREIGN KEY (CONTENT_ID) REFERENCES Content(CONTENT)
);

CREATE TABLE Rating (
    RATING int NOT NULL AUTO_INCREMENT PRIMARY KEY,
    USER_ID int NOT NULL,
    CONTENT_ID int NOT NULL,
    SCORE float,
    FOREIGN KEY (USER_ID) REFERENCES User(USER) ,
    FOREIGN KEY (CONTENT_ID) REFERENCES Content(CONTENT)
);

CREATE TABLE Album (
    ALBUM int NOT NULL AUTO_INCREMENT PRIMARY KEY,
    ARTIST_ID int NOT NULL,
    NAME varchar(255),
    VIEWS int,
    FOREIGN KEY (ARTIST_ID) REFERENCES User(USER) 
);

CREATE TABLE Song (
    SONG int NOT NULL AUTO_INCREMENT PRIMARY KEY,
    ALBUM_ID int NOT NULL,
    NAME varchar(255),
    DATA blob,
    VIEWS int,
    DESCRIPTION varchar(1000),
    FOREIGN KEY (ALBUM_ID) REFERENCES Album(ALBUM) 
);


CREATE TABLE Stream (
    STREAM int NOT NULL AUTO_INCREMENT PRIMARY KEY,
    ARTIST_ID int NOT NULL,
    DATA blob,
    FOREIGN KEY (ARTIST_ID) REFERENCES User(USER) 
);



CREATE TABLE Playlist (
    PLAYLIST int NOT NULL AUTO_INCREMENT PRIMARY KEY,
    CREATOR_ID int NOT NULL,
    NAME varchar(255),
    DESCRIPTIONvarchar(2000),
    FOREIGN KEY (CREATOR_ID) REFERENCES User(USER) 
);

CREATE TABLE Songs_in_playlist(
    SONGS_IN_PLAYLIST int NOT NULL AUTO_INCREMENT PRIMARY KEY,
    PLAYLIST_ID int NOT NULL,
    SONG_ID int NOT NULL,
    FOREIGN KEY (PLAYLIST_ID) REFERENCES Playlist(PLAYLIST) ,
    FOREIGN KEY (SONG_ID) REFERENCES Song(SONG) 
);
